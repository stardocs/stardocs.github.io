<!doctype html>
<html lang="en">
  <head>
  <title>Stardog 2.2 Docs: Using Stardog</title>
  <script src="/js/libs/modernizr-2.6.2.min.js"></script>
  <meta charset="utf-8">
  <meta http-equiv="X-Powered-By" content="DocPad v6.44.0">
  <link rel="stylesheet" href="/css/gumby.css">
  <!--     //a block for ipad, etc... might should go in meta -->
  </head>

<body>
<!--
  <div class="" id="the-content">
    <div class="wrapper shaded" id="topblock">
    <div class="row">
      <div class="four columns">
        <a href="/"><img class="resrc" src="http://app.resrc.it/S=H55/R=L/http://docs.stardog.com/img/logotype.png"/></a>
      </div>
      <div class="eight columns">
        
      </div>
    </div>
  </div>
-->
<div id="page-wrap">
 <div id="the-content">
  <div id="theborder" class="wrapper">
    <!-- full bleed top border styling.... -->
      <div class="twelve columns"></div>
  </div>

    <div class="row">
        <div class="four columns stretch-container" id="sidebar1">
          <nav id="sidebar-nav-holder" class="fixed vertical-nav stretch-y" gumby-fixed="top">
            <div id="sidebar-logo">
              <a id="a52" style="text-decoration: none; background-color: none; border: none; color: none;" href="http://stardog.com/">
                <img id="thelogo" src="http://docs.stardog.com/img/sd.png">       
              </a>
            </div>
            
              <!-- 
	<h3 id="tochead">Using Stardog Contents</h3>
 -->

<ul class="sidebar-nav">
    
    
    <!-- [data-target='-->
        <li>
            <a href="#sd-Querying" class="skip" gumby-easing="easeOutQuad" gumby-duration="300" gumby-goto="#sd-Querying">
            <strong>Querying</strong>
        </a>
        <!-- <li><a href="#sd-Querying" class="skiplink">Querying</a> -->
            
                <ul class="sidebar-nav">
                
    

                </ul>
            
        </li>
    
    <!-- [data-target='-->
        <li>
            <a href="#sd-Updating" class="skip" gumby-easing="easeOutQuad" gumby-duration="300" gumby-goto="#sd-Updating">
            <strong>Updating</strong>
        </a>
        <!-- <li><a href="#sd-Updating" class="skiplink">Updating</a> -->
            
                <ul class="sidebar-nav">
                
    

                </ul>
            
        </li>
    
    <!-- [data-target='-->
        <li>
            <a href="#sd-Versioning" class="skip" gumby-easing="easeOutQuad" gumby-duration="300" gumby-goto="#sd-Versioning">
            <strong>Versioning</strong>
        </a>
        <!-- <li><a href="#sd-Versioning" class="skiplink">Versioning</a> -->
            
                <ul class="sidebar-nav">
                
    

                </ul>
            
        </li>
    
    <!-- [data-target='-->
        <li>
            <a href="#sd-Exporting" class="skip" gumby-easing="easeOutQuad" gumby-duration="300" gumby-goto="#sd-Exporting">
            <strong>Exporting</strong>
        </a>
        <!-- <li><a href="#sd-Exporting" class="skiplink">Exporting</a> -->
            
                <ul class="sidebar-nav">
                
    

                </ul>
            
        </li>
    
    <!-- [data-target='-->
        <li>
            <a href="#sd-Searching" class="skip" gumby-easing="easeOutQuad" gumby-duration="300" gumby-goto="#sd-Searching">
            <strong>Searching</strong>
        </a>
        <!-- <li><a href="#sd-Searching" class="skiplink">Searching</a> -->
            
                <ul class="sidebar-nav">
                
    

                </ul>
            
        </li>
    
    <!-- [data-target='-->
        <li>
            <a href="#sd-Obfuscating" class="skip" gumby-easing="easeOutQuad" gumby-duration="300" gumby-goto="#sd-Obfuscating">
            <strong>Obfuscating</strong>
        </a>
        <!-- <li><a href="#sd-Obfuscating" class="skiplink">Obfuscating</a> -->
            
                <ul class="sidebar-nav">
                
    

                </ul>
            
        </li>
    

</ul>
              <p id="tocnav">
              
                <a class="iconlinks" href="/"><i style="padding-left:0px; margin-left:0px;" class="icon-home iconlinks"></i></a>&nbsp;
              
              <a href="#" id="" class="skip iconlinks" gumby-easing="easeInOutQuad" gumby-goto="top" gumby-duration="2000">
                <i style="padding-left:0px; margin-left:0px;" class="icon-publish iconlinks"></i>
              </a> &nbsp;
              <a href="https://twitter.com/stardog_db" class="iconlinks">
                <i style="padding-left:0px; margin-left:0px;" class="icon-twitter iconlinks"></i>
              </a>
              </p>
            
          </nav>
        </div>

        <div class="eight columns">
          <!-- woof! -->
            <div class="row">
              <p id="quote"><em><strong>The string is a stark data structure and everywhere it is passed there is much duplication of process. It is a perfect vehicle for hiding information.</strong></em>&mdash;Alan Perlis, <cite>Epigrams in Programming</cite></p>
              <div class="pull_left"><h1 id="title-subhead">Using Stardog</h1></div>
            </div>
          <!-- summary -->
          
          <div id="mdblock">
            <p>While Stardog is a full-featured RDF database, its primary purpose is to
execute queries against RDF data which it has under direct
management.<a id="fn-ref-1" href="#footnote-1" class="skip fn-marker" gumby-easing="easeOutQuad" gumby-duration="400" gumby-goto="#footnote-1"><sup>1</sup></a> Stardog supports the <a href="http://www.cambridgesemantics.com/2008/09/sparql-by-example">SPARQL</a> query language, a W3C standard.</p>
<h2 id="sd-Querying">Querying</h2>
<p>Stardog currently supports the <a href="http://www.w3.org/TR/sparql11-query/">SPARQL 1.1 Query
language</a>. <a id="fn-ref-2" href="#footnote-2" class="skip fn-marker" gumby-easing="easeOutQuad" gumby-duration="400" gumby-goto="#footnote-2"><sup>2</sup></a> Stardog also supports the <a href="http://www.w3.org/TR/2012/CR-sparql11-entailment-20121108/">OWL 2 Direct Semantics
entailment regime</a>.</p>
<p>To execute a SPARQL query against a Stardog database, use the <code>query</code>
subcommand:</p>
<pre class="highlighted"><code class="bash">$ stardog query myDb <span class="string">"select * where { ?s ?p ?o }"</span></code></pre>
<p>Detailed information on using the query command in Stardog can be found
on its <a href="/man/query-execute.html"><code>man</code> page</a>.</p>
<p><div id="functions"></div></p>
<h3>Functions</h3>
<p>Stardog supports all of the functions in SPARQL, as well as some others from XPath and SWRL. Any of these functions can be used in queries or rules. Some functions appear in multiple namespaces, but all of the namespaces will work:</p>
<table>
<thead>
<tr>
<th>Prefix</th>
<th>Namespace</th>
</tr>
</thead>
<tbody>
<tr>
<td>stardog</td>
<td><a href="#">tag:stardog:api:functions:</a></td>
</tr>
<tr>
<td>fn</td>
<td><a href="http://www.w3.org/2005/xpath-functions#"><a href="http://www.w3.org/2005/xpath-functions#">http://www.w3.org/2005/xpath-functions#</a></a></td>
</tr>
<tr>
<td>math</td>
<td><a href="http://www.w3.org/2005/xpath-functions/math#"><a href="http://www.w3.org/2005/xpath-functions/math#">http://www.w3.org/2005/xpath-functions/math#</a></a></td>
</tr>
<tr>
<td>swrlb</td>
<td><a href="http://www.w3.org/2003/11/swrlb#"><a href="http://www.w3.org/2003/11/swrlb#">http://www.w3.org/2003/11/swrlb#</a></a></td>
</tr>
<tr>
<td>afn</td>
<td><a href="http://jena.hpl.hp.com/ARQ/function#"><a href="http://jena.hpl.hp.com/ARQ/function#">http://jena.hpl.hp.com/ARQ/function#</a></a></td>
</tr>
</tbody>
</table>
<p>The function names and URIs supported by Stardog are included below. Some of these functions exist in SPARQL natively, which just means they can be used without an explicit namespace.</p>
<table>
<thead>
<tr>
<th align="left">Function name</th>
<th align="left">Recognized URIs</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">abs</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-abs">fn:numeric-abs</a>, <a href="http://www.w3.org/2003/11/swrlb#abs">swrlb:abs</a></td>
</tr>
<tr>
<td align="left">acos</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#acos">math:acos</a></td>
</tr>
<tr>
<td align="left">add</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-add">fn:numeric-add</a></td>
</tr>
<tr>
<td align="left">asin</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#asin">math:asin</a></td>
</tr>
<tr>
<td align="left">atan</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#atan">math:atan</a></td>
</tr>
<tr>
<td align="left">ceil</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-ceil">fn:numeric-ceil</a>, <a href="http://www.w3.org/2003/11/swrlb#ceiling">swrlb:ceiling</a></td>
</tr>
<tr>
<td align="left">concat</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#concat">fn:concat</a>, <a href="http://www.w3.org/2003/11/swrlb#stringConcat">swrlb:stringConcat</a></td>
</tr>
<tr>
<td align="left">contains</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#contains">fn:contains</a>, <a href="http://www.w3.org/2003/11/swrlb#contains">swrlb:contains</a></td>
</tr>
<tr>
<td align="left">containsIgnoreCase</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#containsIgnoreCase">swrlb:containsIgnoreCase</a></td>
</tr>
<tr>
<td align="left">cos</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#cos">math:cos</a>, <a href="http://www.w3.org/2003/11/swrlb#cos">swrlb:cos</a></td>
</tr>
<tr>
<td align="left">cosh</td>
<td align="left"><a href="tag:stardog:api:functions:cosh">stardog:cosh</a></td>
</tr>
<tr>
<td align="left">date</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#date">swrlb:date</a></td>
</tr>
<tr>
<td align="left">dateTime</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#dateTime">swrlb:dateTime</a></td>
</tr>
<tr>
<td align="left">day</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#day-from-dateTime">fn:day-from-dateTime</a></td>
</tr>
<tr>
<td align="left">dayTimeDuration</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#dayTimeDuration">swrlb:dayTimeDuration</a></td>
</tr>
<tr>
<td align="left">divide</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-divide">fn:numeric-divide</a>, <a href="http://www.w3.org/2003/11/swrlb#divide">swrlb:divide</a></td>
</tr>
<tr>
<td align="left">encode_for_uri</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#encode-for-uri">fn:encode-for-uri</a></td>
</tr>
<tr>
<td align="left">exp</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#exp">math:exp</a>, <a href="http://jena.hpl.hp.com/ARQ/function#e">afn:e</a></td>
</tr>
<tr>
<td align="left">floor</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-floor">fn:numeric-floor</a>, <a href="http://www.w3.org/2003/11/swrlb#floor">swrlb:floor</a></td>
</tr>
<tr>
<td align="left">hours</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#hours-from-dateTime">fn:hours-from-dateTime</a></td>
</tr>
<tr>
<td align="left">integerDivide</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-integer-divide">fn:numeric-integer-divide</a>, <a href="http://www.w3.org/2003/11/swrlb#integerDivide">swrlb:integerDivide</a></td>
</tr>
<tr>
<td align="left">lcase</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#lower-case">fn:lower-case</a>, <a href="http://www.w3.org/2003/11/swrlb#lowerCase">swrlb:lowerCase</a></td>
</tr>
<tr>
<td align="left">log</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#log">math:log</a></td>
</tr>
<tr>
<td align="left">log10</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#log10">math:log10</a></td>
</tr>
<tr>
<td align="left">max</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#max">fn:max</a>, <a href="http://jena.hpl.hp.com/ARQ/function#max">afn:max</a></td>
</tr>
<tr>
<td align="left">min</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#min">fn:min</a>, <a href="http://jena.hpl.hp.com/ARQ/function#min">afn:min</a></td>
</tr>
<tr>
<td align="left">minutes</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#minutes-from-dateTime">fn:minutes-from-dateTime</a></td>
</tr>
<tr>
<td align="left">mod</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#mod">swrlb:mod</a></td>
</tr>
<tr>
<td align="left">month</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#month-from-dateTime">fn:month-from-dateTime</a></td>
</tr>
<tr>
<td align="left">multiply</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-multiply">fn:numeric-multiply</a></td>
</tr>
<tr>
<td align="left">normalizeSpace</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#normalize-space">fn:normalize-space</a>, <a href="http://www.w3.org/2003/11/swrlb#normalizeSpace">swrlb:normalizeSpace</a></td>
</tr>
<tr>
<td align="left">pi</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#pi">math:pi</a>, <a href="http://jena.hpl.hp.com/ARQ/function#pi">afn:pi</a></td>
</tr>
<tr>
<td align="left">pow</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#pow">math:pow</a>, <a href="http://www.w3.org/2003/11/swrlb#pow">swrlb:pow</a></td>
</tr>
<tr>
<td align="left">replace</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#replace">fn:replace</a></td>
</tr>
<tr>
<td align="left">round</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-round">fn:numeric-round</a>, <a href="http://www.w3.org/2003/11/swrlb#round">swrlb:round</a></td>
</tr>
<tr>
<td align="left">roundHalfToEven</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-round-half-to-even">fn:numeric-round-half-to-even</a>, <a href="http://www.w3.org/2003/11/swrlb#roundHalfToEven">swrlb:roundHalfToEven</a></td>
</tr>
<tr>
<td align="left">seconds</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#seconds-from-dateTime">fn:seconds-from-dateTime</a></td>
</tr>
<tr>
<td align="left">sin</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#sin">math:sin</a>, <a href="http://www.w3.org/2003/11/swrlb#sin">swrlb:sin</a></td>
</tr>
<tr>
<td align="left">sinh</td>
<td align="left"><a href="tag:stardog:api:functions:sinh">stardog:sinh</a></td>
</tr>
<tr>
<td align="left">sqrt</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#sqrt">math:sqrt</a>, <a href="http://jena.hpl.hp.com/ARQ/function#sqrt">afn:sqrt</a></td>
</tr>
<tr>
<td align="left">strafter</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#substring-after">fn:substring-after</a>, <a href="http://www.w3.org/2003/11/swrlb#substringAfter">swrlb:substringAfter</a></td>
</tr>
<tr>
<td align="left">strbefore</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#substring-before">fn:substring-before</a>, <a href="http://www.w3.org/2003/11/swrlb#substringBefore">swrlb:substringBefore</a></td>
</tr>
<tr>
<td align="left">strends</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#ends-with">fn:ends-with</a>, <a href="http://www.w3.org/2003/11/swrlb#endsWith">swrlb:endsWith</a></td>
</tr>
<tr>
<td align="left">stringEqualIgnoreCase</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#stringEqualIgnoreCase">swrlb:stringEqualIgnoreCase</a></td>
</tr>
<tr>
<td align="left">strlen</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#string-length">fn:string-length</a>, <a href="http://www.w3.org/2003/11/swrlb#stringLength">swrlb:stringLength</a></td>
</tr>
<tr>
<td align="left">strstarts</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#starts-with">fn:starts-with</a>, <a href="http://www.w3.org/2003/11/swrlb#startsWith">swrlb:startsWith</a></td>
</tr>
<tr>
<td align="left">substring</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#substring">fn:substring</a>, <a href="http://www.w3.org/2003/11/swrlb#substring">swrlb:substring</a></td>
</tr>
<tr>
<td align="left">subtract</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-subtract">fn:numeric-subtract</a>, <a href="http://www.w3.org/2003/11/swrlb#subtract">swrlb:subtract</a></td>
</tr>
<tr>
<td align="left">tan</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions/math#tan">math:tan</a>, <a href="http://www.w3.org/2003/11/swrlb#tan">swrlb:tan</a></td>
</tr>
<tr>
<td align="left">tanh</td>
<td align="left"><a href="tag:stardog:api:functions:tanh">stardog:tanh</a></td>
</tr>
<tr>
<td align="left">time</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#time">swrlb:time</a></td>
</tr>
<tr>
<td align="left">timezone</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#timezone-from-dateTime">fn:timezone-from-dateTime</a></td>
</tr>
<tr>
<td align="left">toDegrees</td>
<td align="left"><a href="tag:stardog:api:functions:toDegrees">stardog:toDegrees</a></td>
</tr>
<tr>
<td align="left">toRadians</td>
<td align="left"><a href="tag:stardog:api:functions:toRadians">stardog:toRadians</a></td>
</tr>
<tr>
<td align="left">translate</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#translate">fn:translate</a>, <a href="http://www.w3.org/2003/11/swrlb#translate">swrlb:translate</a></td>
</tr>
<tr>
<td align="left">ucase</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#upper-case">fn:upper-case</a>, <a href="http://www.w3.org/2003/11/swrlb#upperCase">swrlb:upperCase</a></td>
</tr>
<tr>
<td align="left">unaryMinus</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-unary-minus">fn:numeric-unary-minus</a>, <a href="http://www.w3.org/2003/11/swrlb#unaryMinus">swrlb:unaryMinus</a></td>
</tr>
<tr>
<td align="left">unaryPlus</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#numeric-unary-plus">fn:numeric-unary-plus</a>, <a href="http://www.w3.org/2003/11/swrlb#unaryPlus">swrlb:unaryPlus</a></td>
</tr>
<tr>
<td align="left">year</td>
<td align="left"><a href="http://www.w3.org/2005/xpath-functions#year-from-dateTime">fn:year-from-dateTime</a></td>
</tr>
<tr>
<td align="left">yearMonthDuration</td>
<td align="left"><a href="http://www.w3.org/2003/11/swrlb#yearMonthDuration">swrlb:yearMonthDuration</a></td>
</tr>
</tbody>
</table>
<h3><code>DESCRIBE</code></h3>
<p>SPARQL's <code>DESCRIBE</code> keyword is deliberately underspecified; vendors are free to do, for good or bad, whatever they want. In Stardog, a <code>DESCRIBE &lt;theResource&gt;</code> query retrieves the predicates and objects for all the triples for which <code>&lt;theResource&gt;</code> is the subject. There are, of course, about seventeen thousand other ways to implement <code>DESCRIBE</code>; we've implemented four or five of them and may expose them to users in a future release of Stardog <em>based on user feedback and requests</em>.</p>
<p>Now you know and knowing is one-quarter of the fun.</p>
<h2 id="sd-Updating">Updating</h2>
<p>There are many ways to update the data in a Stardog database; the most commonly used methods are the CLI and SPARQL Update queries, both of which we discuss below.</p>
<h3>SPARQL Update </h3>
<p>SPARQL 1.1 Update can be used to insert RDF into or delete RDF from a Stardog database using SPARQL query forms <code>INSERT</code> and <code>DELETE</code>, respectively.</p>
<pre class="highlighted"><code class="sparql"><span class="keyword">PREFIX</span> dc: <span class="uri">&lt;http://purl.org/dc/elements/1.1/&gt;</span>
<span class="keyword">PREFIX</span> ns: <span class="uri">&lt;http://example.org/ns#&gt;</span>
<span class="keyword">INSERT</span> <span class="keyword">DATA</span>
{ <span class="keyword">GRAPH</span> <span class="uri">&lt;http://example/bookStore&gt;</span> { <span class="uri">&lt;http://example/book1&gt;</span>  <span class="uri">ns:price</span>  <span class="number">42</span> } }</code></pre>
<p>An example of deleting RDF:</p>
<pre class="highlighted"><code class="sparql"><span class="keyword">PREFIX</span> dc: <span class="uri">&lt;http://purl.org/dc/elements/1.1/&gt;</span>

<span class="keyword">DELETE</span> <span class="keyword">DATA</span>
{
  <span class="uri">&lt;http://example/book2&gt;</span> <span class="uri">dc:title</span> <span class="string">"David Copperfield"</span> ;
                         <span class="uri">dc:creator</span> <span class="string">"Edmund Wells"</span> .
}</code></pre>
<p>Or they can be combined with <code>WHERE</code> clauses:</p>
<pre class="highlighted"><code class="sparql"><span class="keyword">PREFIX</span> foaf:  <span class="uri">&lt;http://xmlns.com/foaf/0.1/&gt;</span>

WITH <span class="uri">&lt;http://example/addresses&gt;</span>
<span class="keyword">DELETE</span> { <span class="variable">?person</span> <span class="uri">foaf:givenName</span> <span class="string">'Bill'</span> }
<span class="keyword">INSERT</span> { <span class="variable">?person</span> <span class="uri">foaf:givenName</span> <span class="string">'William'</span> }
<span class="keyword">WHERE</span>
  { <span class="variable">?person</span> <span class="uri">foaf:givenName</span> <span class="string">'Bill'</span> }</code></pre>
<h3>Adding Data with the CLI</h3>
<p>The most efficient way to load data into Stardog is at database creation
time. See the <a href="../admin/#create">Creating a Database</a> section for bulk
loading data at database creation time. To add data to an existing
Stardog database, use the <a href="/docs/man/data-add.html">add</a> command:</p>
<pre class="highlighted"><code class="bash">$ stardog data add myDatabase <span class="number">1</span>.rdf <span class="number">2</span>.rdf <span class="number">3</span>.rdf</code></pre>
<p>The optional arguments are <code>-f</code> (or <code>--format</code>) to specify the RDF
serialization type of the files to be loaded; if you specify the wrong
type, <code>add</code> will fail. If you don‘t specify a type, Stardog will try to
determine the type on its own based on the file extension. For example,
the files that have names ending with ’.ttl' will be parsed with Turtle
syntax. If you specify a type, then all the files being loaded must of
that same type.</p>
<p>If you want to add data to a named graph, specify it via the
<code>--graph-uri</code> or <code>-g</code> options.</p>
<h3>Removing Data with the CLI</h3>
<p>To remove data from a Stardog database,
<a href="/docs/man/data-remove.html">remove</a> is used by specifying—</p>
<ol>
<li>one Named Graph, OR</li>
<li>one or more files containing RDF (in some recognized serialization
format, i.e., RDF/XML, Turtle, Trig), OR</li>
<li>one Named Graph and one or more RDF files.</li>
</ol>
<p>For example,</p>
<pre class="highlighted"><code class="bash">$ stardog data remove -g http://foo myDatabase</code></pre>
<p>will remove the named graph <code>http://foo</code> and all its triples from
<code>myDatabase</code>.</p>
<pre class="highlighted"><code class="bash">$ stardog data remove myDatabase <span class="number">1</span>.rdf</code></pre>
<p>will remove the triples in <code>1.rdf</code> from (the default graph of)
<code>myDatabase</code>.</p>
<pre class="highlighted"><code class="bash">$ stardog data remove -g http://foo <span class="operator">-f</span> TURTLE myDatabase <span class="number">2</span>.rdf <span class="number">3</span>.rdf</code></pre>
<p>will remove the triples in the Turtle files <code>2.rdf</code> and <code>3.rdf</code> from the
named graph <code>http://foo</code> of <code>myDatabase</code>.</p>
<p>Strict or loose parsing may be set for the input payload by using
<code>--strict-parsing=TRUE|FALSE</code>.</p>
<h3>How Stardog Handles RDF Parsing</h3>
<p>RDF parsing in Stardog is strict: it requires typed RDF literals to
match their explicit datatypes, URIs to be well-formed, etc. In some
cases, strict parsing isn't ideal, so it may be disabled using the
<code>--strict-parsing=FALSE</code> to disable it.</p>
<p>However, even with strict parsing disabled, Stardog's RDF parser may
encounter parse errors from which it cannot recover. And loading data in
lax mode may lead to unexpected SPARQL query results. For example,
malformed literals (<code>"2.5"^^xsd:int</code>) used in filter evaluation may lead
to undesired results.</p>
<h2 id="sd-Versioning">Versioning</h2>
<p>Stardog supports graph change management capability that lets users track changes between
revisions of a Stardog database, add comments and other metadata to the revisions,
extract diffs between those revisions, tag revisions with labels, and query over the revision history of the database using SPARQL.</p>
<p>The following examples give a very brief overview of this capability; see the <a href="/manpages/">VCS man pages</a> for all the details.</p>
<h3>Committing Changes</h3>
<p>Commit a new version by adding and removing triples specified in files. Different from the ‘data add/remove’ commands, commit allows one to add and remove triples in one commit and associate a commit message. Removals are performed before additions.</p>
<p>To commit changes:</p>
<pre class="highlighted"><code class="bash">$ stardog vcs commit --add add_file1.ttl add_file2.ttl --remove remove_file.ttl -m <span class="string">"This is an example commit"</span> myDb</code></pre>
<h3>Viewing Revisions</h3>
<p>To see all revision (commits) in a database:</p>
<pre class="highlighted"><code class="bash">$ stardog vcs list myDb
$ stardog vcs list --committer userName myDb</code></pre>
<p>The output can be tweaked using <code>--after</code>, <code>--before</code>, and <code>--committer</code>.</p>
<h3>Reverting Revisions</h3>
<p>You can revert specific revisions, ranges, etc.</p>
<pre class="highlighted"><code class="bash">$ stardog vcs revert myDb
$ stardog vcs revert myDb de44369d-cc7b-<span class="number">4244</span><span class="operator">-a</span>3fb-<span class="number">3</span>f6e271420b0</code></pre>
<h3>Viewing Diffs</h3>
<p>You can also see the differences between revisions; by default, between the head version and its previous versions or the changes in a specific commit, respectively: </p>
<pre class="highlighted"><code class="bash">$ stardog vcs diff myDb
$ stardog vcs diff myDb de44369d-cc7b-<span class="number">4244</span><span class="operator">-a</span>3fb-<span class="number">3</span>f6e271420b0</code></pre>
<h3>Using Tags</h3>
<p>You can also create, drop, list tags, i.e., named revisions:</p>
<pre class="highlighted"><code class="bash">$ stardog vcs tag --list myDb</code></pre>
<h3>Querying the Revision History</h3>
<p>All of the revision history of the database is represented as RDF using the W3C PROV vocabulary and can be queries using SPARQL:</p>
<pre class="highlighted"><code class="bash">$ stardog vcs query myDb <span class="string">'SELECT...'</span></code></pre>
<h2 id="sd-Exporting">Exporting</h2>
<p>To export data from a Stardog database back to RDF,
<a href="/docs/man/data-export.html">export</a> is used by specifying—</p>
<ol>
<li>the connection string of the database to export</li>
<li>the export format: <code>N-TRIPLES, RDF/XML, TURTLE, TRIG</code>. default is
‘N-TRIPLES’— ‘TRIG’ must be used when exporting the entire database
if the database contains triples inside named graphs.</li>
<li>optionally, the URI of the named graph to export if you wish to
export a single named graph only.</li>
<li>the file to export to</li>
</ol>
<p>For example,</p>
<pre class="highlighted"><code class="bash">$ stardog data <span class="keyword">export</span> --format TURTLE myDatabase myDatabase_output.ttl

$ stardog data <span class="keyword">export</span> --graph-uri http://example.org/context myDatabase myDatabase_output.nt</code></pre>
<h2 id="sd-Searching">Searching</h2>
<p>Stardog includes an RDF-aware semantic search capability: it will index
RDF literals and supports information retrieval-style queries over
indexed data.</p>
<h3>Indexing Strategy</h3>
<p>The indexing strategy creates a “search document” per RDF literal. Each
document consists of the following fields: literal ID; literal value;
and contexts.</p>
<h3>Search in SPARQL</h3>
<p>We use the predicate <code>http://jena.hpl.hp.com/ARQ/property#textMatch</code> to
access the search index in a SPARQL query.</p>
<p>For example,</p>
<pre class="highlighted"><code class="bash">SELECT DISTINCT ?s ?score
WHERE {
?s ?p ?l.
( ?l ?score ) &lt;http://jena.hpl.hp.com/ARQ/property<span class="comment">#textMatch&gt; ( 'mac' 0.5 50 ).</span>
}</code></pre>
<p>This query selects the top 50 literals, and their scores, which match
‘mac’ and whose scores are above a threshold of 0.5. These literals are
then joined with the generic BGP <code>?s ?p ?l</code> to get the resources (?s)
that have those literals. Alternatively, you could use
<code>?s rdf:type ex:Book</code> if you only wanted to select the books which
reference the search criteria; you can include as many other BGP's as
you like to enhance your initial search results.</p>
<h3>Searching with the Command Line</h3>
<p>First, check out the CLI help for the
<a href="/docs/man/query-search.html">search</a> subcommand:</p>
<pre class="highlighted"><code class="bash">$ stardog <span class="built_in">help</span> query search</code></pre>
<p>Okay, now let‘s do a search over the O’Reilly book catalog in RDF for
everything mentioning “html”:</p>
<pre class="highlighted"><code class="bash">$ stardog query search -q <span class="string">"html"</span> <span class="operator">-l</span> <span class="number">10</span> catalog</code></pre>
<p>The results?</p>
<pre class="highlighted"><code class="bash">Index    Score    Hit
====================
<span class="number">0</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596527402</span>.IP
<span class="number">1</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596003166</span>.IP
<span class="number">2</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9781565924949</span>.IP
<span class="number">3</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596002251</span>.IP
<span class="number">4</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596101978</span>.IP
<span class="number">5</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596154066</span>.IP
<span class="number">6</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596157616</span>.IP
<span class="number">7</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596805876</span>.IP
<span class="number">8</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596527273</span>.IP
<span class="number">9</span>    <span class="number">6.422</span>    urn:x-domain:oreilly.com:product:<span class="number">9780596002961</span>.IP</code></pre>
<h3>Query Syntax</h3>
<p>Stardog search is based on Lucene 4.2.0: we support all of the <a href="http://lucene.apache.org/java/3_4_0/queryparsersyntax.html">search
modifiers</a>
that Lucene supports, with the exception of fields.</p>
<ul>
<li>wildcards: <code>?</code> and <code>*</code></li>
<li>fuzzy: <code>~</code> and <code>~</code> with similarity weights (e.g. <code>foo~0.8</code>)</li>
<li>proximities: <code>"semantic web"~5</code></li>
<li>term boosting</li>
<li>booleans: <code>OR</code>, <code>AND</code>, <code>+</code>, <code>NOT</code>, and <code>-</code>.</li>
<li>grouping</li>
</ul>
<p>For a more detailed discussion, see the <a href="http://lucene.apache.org/java/3_3_0/queryparsersyntax.html">Lucene
docs</a>.</p>
<h2 id="sd-Obfuscating">Obfuscating</h2>
<p>When sharing sensitive RDF data with others, you might want to (selectively) obfuscate it so that sensitive bits are not present, but non-sensitive bits remain. For example, this feature can be used to submit Stardog bug reports using sensitive data.</p>
<p>Data obfuscation works much the same way as the <code>export</code> command and supports the same set of arguments:</p>
<pre class="highlighted"><code class="bash">$ stardog data obfuscate myDatabase obfDatabase.ttl</code></pre>
<p>By default, all URIs, bnodes, and string literals in the database will be obfuscated using the SHA256 message digest algorithm. Non-string typed literals (numbers, dates, etc.) are left unchanged as well as URIs from built-in namespaces RDF, RDFS, and OWL. It is possible to customize obfuscation by providing a configuration file.</p>
<pre class="highlighted"><code class="bash">$ stardog data obfuscate --config obfConfig.ttl myDatabase  obfDatabase.ttl</code></pre>
<p>The configuration specifies which URIs and strings will be obfuscated by defining inclusion and exclusion filters. See the example configuration file provided in the distribution for details.</p>
<p>Once the data is obfuscated, queries written against the original data will no longer work. Stradog provides query obfuscation capability, too, so that queries can be executed against the obfuscated data. If a custom configuration file is used to obfuscate the data, then the same configuration should be used for obfuscating the queries as well:</p>
<pre class="highlighted"><code class="bash">$ stardog query obfuscate --config obfConfig.ttl myDatabase myQuery.sparql &gt; obfQuery.ttl</code></pre>

          </div>
          <div class="" id="footnote-container" style="display: block;">
            <h2>Notes</h2>
          <div class="footnote" id="footnote-1"><p>1. This implies that Stardog will not retrieve data from the Web
or from any other network via HTTP URLs in order to query that data. If
you want to query data using Stardog, you must add that data to a new or
existing Stardog database.<a class="skip fn-marker" gumby-easing="easeOutQuad" gumby-duration="400" gumby-goto="#fn-ref-1">&nbsp;&#8618;</a></p></div><div class="footnote" id="footnote-2"><p>2. Stardog does not support SPARQL 1.1 federation (the
<code>SERVICE</code> keyword).<a class="skip fn-marker" gumby-easing="easeOutQuad" gumby-duration="400" gumby-goto="#fn-ref-2">&nbsp;&#8618;</a></p></div></div>
        </div>
    </div>
  </div>
</div>


<div class="wrapper shaded" id="subfoot">
      <section class="row">
        <div class="twelve columns">
            <div class="four columns">
              <a style="text-decoration: none; border-bottom: 0;" href="http://clarkparsia.com/"><img id="footer-logo" style="max-width: 50%;" src="/img/cp.png"></a>
              <div> </div>
              <!-- follow us on Twitter -->
            </div>
            <div class="eight columns">
              
                <h4>This is <span id="footer-subhead">Using Stardog</span>, part of <a href="http://docs.stardog.com/">Stardog Docs</a> 2.2.</h4>
              
              <p class="copywood">For comments, questions, or to report problems with this page, visit the <a href="https://groups.google.com/a/clarkparsia.com/group/stardog/about">Stardog Support Forum</a>.</p>
              <p class="copywood">&copy;2010&ndash;2014 Clark &amp; Parsia LLC. <a href="http://creativecommons.org/licenses/by-sa/3.0/">Some rights reserved</a>.
            </p></div>
        </div>
      </section>
</div>

<script defer="defer" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script><script defer="defer" src="/js/libs/gumby.js"></script><script defer="defer" src="/js/libs/ui/gumby.fittext.js"></script><script defer="defer" src="/js/libs/ui/gumby.fixed.js"></script><script defer="defer" src="/js/libs/ui/gumby.navbar.js"></script><script defer="defer" src="/js/libs/ui/gumby.retina.js"></script><script defer="defer" src="/js/libs/ui/gumby.skiplink.js"></script><script defer="defer" src="/js/libs/ui/gumby.tabs.js"></script><script defer="defer" src="/js/libs/ui/gumby.toggleswitch.js"></script><script defer="defer" src="/js/libs/gumby.init.js"></script><script defer="defer" src="/js/plugins.js"></script><script defer="defer" src="/js/main.js"></script>

</body>

</html>